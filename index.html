<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business English Daily</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-4xl mx-auto p-6">
        <!-- 헤더 -->
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-6">
            <h1 class="text-3xl font-bold mb-2">💼 Business English Daily</h1>
            <p class="text-blue-100">매일 새로운 비즈니스 영어 표현을 배워보세요</p>
        </div>

        <!-- 레벨 선택 -->
        <div class="mb-6">
            <h2 class="text-xl font-semibold mb-3">레벨 선택</h2>
            <div class="flex gap-3">
                <button onclick="setLevel('beginner')" id="btn-beginner" 
                        class="px-4 py-2 rounded-lg font-medium transition-colors bg-green-100 text-green-800">
                    입문 (기본 업무)
                </button>
                <button onclick="setLevel('intermediate')" id="btn-intermediate" 
                        class="px-4 py-2 rounded-lg font-medium transition-colors bg-gray-100 text-gray-600 hover:bg-gray-200">
                    실무 (회의/협업)
                </button>
                <button onclick="setLevel('advanced')" id="btn-advanced" 
                        class="px-4 py-2 rounded-lg font-medium transition-colors bg-gray-100 text-gray-600 hover:bg-gray-200">
                    전문 (전략/관리)
                </button>
            </div>
        </div>

        <!-- 오늘의 문장 -->
        <div class="bg-white border-2 border-gray-200 rounded-xl p-6 mb-6 shadow-sm">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-2xl font-bold text-gray-800">📖 오늘의 비즈니스 문장</h2>
                <div id="difficulty-stars" class="flex gap-1">
                    <!-- 별점 표시 -->
                </div>
            </div>

            <div class="space-y-4">
                <!-- 영어 문장 -->
                <div class="bg-blue-50 p-4 rounded-lg">
                    <div class="flex items-center gap-3 mb-2">
                        <p class="text-xl font-medium text-blue-900" id="sentence-text">
                            Let's schedule a meeting.
                        </p>
                        <button onclick="playAudio()" id="audio-btn" 
                                class="bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full transition-colors" 
                                title="발음 듣기">
                            🔊
                        </button>
                    </div>
                    <p class="text-sm text-blue-600 font-mono" id="pronunciation">
                        /lɛts ˈskɛdʒul ə ˈmitɪŋ/
                    </p>
                    <div class="text-xs text-blue-500 mt-2" id="audio-status">
                        👆 스피커 버튼을 클릭하여 발음을 들어보세요
                    </div>
                </div>

                <!-- 한국어 의미 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-gray-700 mb-1">💬 의미</h3>
                    <p class="text-gray-800" id="meaning">회의 일정을 잡아봅시다.</p>
                </div>

                <!-- 문법 설명 -->
                <div class="bg-green-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-green-700 mb-1">📝 문법 포인트</h3>
                    <p class="text-green-800" id="grammar">Let's + 동사원형 (제안)</p>
                </div>

                <!-- 사용 상황 -->
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-purple-700 mb-1">🎯 사용 상황</h3>
                    <p class="text-purple-800" id="context">회의 약속을 잡을 때 사용하는 기본 표현</p>
                </div>

                <!-- 영상 링크 -->
                <div class="bg-yellow-50 p-4 rounded-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold text-yellow-700 mb-1">🎬 학습 자료</h3>
                            <p class="text-yellow-800 text-sm">실제 사용 예시를 영상으로 확인해보세요</p>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="openYouGlish()" 
                                    class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors">
                                📺 YouGlish
                            </button>
                            <button onclick="openYouTube()" 
                                    class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors">
                                🎥 YouTube
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 새로운 문장 버튼 -->
        <div class="text-center mb-6">
            <button onclick="getNewSentence()" 
                    class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors mr-3">
                🎲 새로운 문장 받기
            </button>
            <button onclick="location.reload()" 
                    class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                🔄 새로고침
            </button>
        </div>

        <!-- 학습 통계 -->
        <div class="grid grid-cols-3 gap-4">
            <div class="bg-green-50 p-4 rounded-lg text-center">
                <div class="text-2xl mb-1">🎯</div>
                <div class="text-sm text-green-600">현재 레벨</div>
                <div class="text-lg font-bold text-green-800" id="current-level">입문</div>
            </div>
            <div class="bg-blue-50 p-4 rounded-lg text-center">
                <div class="text-2xl mb-1">📊</div>
                <div class="text-sm text-blue-600">난이도</div>
                <div class="text-lg font-bold text-blue-800" id="difficulty-level">⭐</div>
            </div>
            <div class="bg-purple-50 p-4 rounded-lg text-center">
                <div class="text-2xl mb-1">💼</div>
                <div class="text-sm text-purple-600">분야</div>
                <div class="text-lg font-bold text-purple-800">비즈니스</div>
            </div>
        </div>
    </div>

    <script>
        // 전역 변수
        let currentLevel = 'beginner';
        let isPlaying = false;

        // 비즈니스 영어 문장 데이터
        const sentences = {
            beginner: [
                {
                    sentence: "Let's schedule a meeting.",
                    meaning: "회의 일정을 잡아봅시다.",
                    grammar: "Let's + 동사원형 (제안)",
                    context: "회의 약속을 잡을 때 사용",
                    difficulty: 1,
                    pronunciation: "/lɛts ˈskɛdʒul ə ˈmitɪŋ/",
                    videoSearch: "schedule meeting business English"
                },
                {
                    sentence: "Could you please send me the report?",
                    meaning: "보고서를 보내주실 수 있나요?",
                    grammar: "Could you + 동사원형 (정중한 요청)",
                    context: "동료에게 자료를 요청할 때",
                    difficulty: 2,
                    pronunciation: "/kʊd ju pliz sɛnd mi ðə rɪˈpɔrt/",
                    videoSearch: "could you please business English"
                },
                {
                    sentence: "I'll get back to you on this.",
                    meaning: "이 건에 대해 다시 연락드리겠습니다.",
                    grammar: "get back to someone (재연락하다)",
                    context: "즉답이 어려울 때 사용",
                    difficulty: 2,
                    pronunciation: "/aɪl gɛt bæk tu ju ɑn ðɪs/",
                    videoSearch: "get back to you business phone"
                }
            ],
            intermediate: [
                {
                    sentence: "We need to think outside the box.",
                    meaning: "창의적으로 생각해야 합니다.",
                    grammar: "관용구 think outside the box",
                    context: "혁신적인 아이디어가 필요할 때",
                    difficulty: 3,
                    pronunciation: "/wi nid tu θɪŋk ˈaʊtˌsaɪd ðə bɑks/",
                    videoSearch: "think outside the box business"
                },
                {
                    sentence: "Let's touch base next week.",
                    meaning: "다음 주에 연락해서 확인해봅시다.",
                    grammar: "touch base (간단히 연락하다)",
                    context: "정기적인 업데이트를 위해",
                    difficulty: 3,
                    pronunciation: "/lɛts tʌʧ beɪs nɛkst wik/",
                    videoSearch: "touch base business English"
                },
                {
                    sentence: "We're experiencing some challenges.",
                    meaning: "몇 가지 어려움을 겪고 있습니다.",
                    grammar: "experience + 명사 (겪다)",
                    context: "문제를 완곡하게 표현할 때",
                    difficulty: 4,
                    pronunciation: "/wir ɪkˈspɪriənsɪŋ sʌm ˈʧælɪndʒɪz/",
                    videoSearch: "experiencing challenges business"
                }
            ],
            advanced: [
                {
                    sentence: "Let's leverage our core competencies.",
                    meaning: "우리의 핵심 역량을 활용합시다.",
                    grammar: "leverage + 명사 (활용하다)",
                    context: "전략 회의에서 강점 활용 시",
                    difficulty: 5,
                    pronunciation: "/lɛts ˈlɛvərɪdʒ aʊər kɔr ˈkɑmpətənsiz/",
                    videoSearch: "leverage core competencies business"
                },
                {
                    sentence: "We need to optimize our workflow.",
                    meaning: "워크플로우를 최적화해야 합니다.",
                    grammar: "optimize + 명사 (최적화하다)",
                    context: "효율성 개선을 논의할 때",
                    difficulty: 4,
                    pronunciation: "/wi nid tu ˈɑptəˌmaɪz aʊər ˈwɜrkˌfloʊ/",
                    videoSearch: "optimize workflow business"
                },
                {
                    sentence: "Let's pivot our strategy.",
                    meaning: "전략을 전환해봅시다.",
                    grammar: "pivot + 명사 (전환하다)",
                    context: "전략 변경이 필요할 때",
                    difficulty: 4,
                    pronunciation: "/lɛts ˈpɪvət aʊər ˈstrætədʒi/",
                    videoSearch: "pivot strategy business"
                }
            ]
        };

        let currentSentence = sentences.beginner[0];

        // 랜덤 문장 선택
        function getRandomSentence(level) {
            const levelSentences = sentences[level];
            const randomIndex = Math.floor(Math.random() * levelSentences.length);
            return levelSentences[randomIndex];
        }

        // 새로운 문장 가져오기
        function getNewSentence() {
            currentSentence = getRandomSentence(currentLevel);
            updateContent();
        }

        // 레벨 설정
        function setLevel(level) {
            currentLevel = level;
            currentSentence = getRandomSentence(level);
            updateLevelButtons();
            updateContent();
        }

        // 레벨 버튼 업데이트
        function updateLevelButtons() {
            // 모든 버튼 초기화
            document.querySelectorAll('[id^="btn-"]').forEach(btn => {
                btn.className = 'px-4 py-2 rounded-lg font-medium transition-colors bg-gray-100 text-gray-600 hover:bg-gray-200';
            });
            
            // 선택된 버튼 스타일 적용
            const colors = {
                beginner: 'px-4 py-2 rounded-lg font-medium transition-colors bg-green-100 text-green-800',
                intermediate: 'px-4 py-2 rounded-lg font-medium transition-colors bg-blue-100 text-blue-800',
                advanced: 'px-4 py-2 rounded-lg font-medium transition-colors bg-purple-100 text-purple-800'
            };
            
            document.getElementById(`btn-${currentLevel}`).className = colors[currentLevel];
        }

        // 콘텐츠 업데이트
        function updateContent() {
            document.getElementById('sentence-text').textContent = currentSentence.sentence;
            document.getElementById('pronunciation').textContent = currentSentence.pronunciation;
            document.getElementById('meaning').textContent = currentSentence.meaning;
            document.getElementById('grammar').textContent = currentSentence.grammar;
            document.getElementById('context').textContent = currentSentence.context;
            
            // 레벨 표시
            const levelNames = { beginner: '입문', intermediate: '실무', advanced: '전문' };
            document.getElementById('current-level').textContent = levelNames[currentLevel];
            
            // 난이도 표시
            document.getElementById('difficulty-level').textContent = '⭐'.repeat(currentSentence.difficulty);
            
            // 별점 표시
            const starsContainer = document.getElementById('difficulty-stars');
            starsContainer.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('span');
                star.textContent = '⭐';
                star.style.color = i < currentSentence.difficulty ? '#fbbf24' : '#d1d5db';
                star.style.fontSize = '18px';
                starsContainer.appendChild(star);
            }
        }

        // 음성 재생
        function playAudio() {
            if (isPlaying) return;
            
            isPlaying = true;
            const audioBtn = document.getElementById('audio-btn');
            const audioStatus = document.getElementById('audio-status');
            
            audioBtn.style.opacity = '0.6';
            audioStatus.innerHTML = '🔊 재생 중...';
            
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(currentSentence.sentence);
                utterance.lang = 'en-US';
                utterance.rate = 0.7;
                utterance.pitch = 1;
                utterance.volume = 1;
                
                utterance.onend = () => {
                    isPlaying = false;
                    audioBtn.style.opacity = '1';
                    audioStatus.innerHTML = '👆 스피커 버튼을 클릭하여 발음을 들어보세요';
                };
                
                utterance.onerror = (event) => {
                    isPlaying = false;
                    audioBtn.style.opacity = '1';
                    audioStatus.innerHTML = '❌ 음성 재생 실패. 다시 시도해주세요.';
                };
                
                setTimeout(() => {
                    speechSynthesis.speak(utterance);
                }, 100);
                
            } else {
                isPlaying = false;
                audioBtn.style.opacity = '1';
                audioStatus.innerHTML = '❌ 이 브라우저는 음성 합성을 지원하지 않습니다.';
            }
        }

        // YouGlish 열기
        function openYouGlish() {
            const searchQuery = encodeURIComponent(currentSentence.sentence);
            window.open(`https://youglish.com/pronounce/${searchQuery}/english?`, '_blank');
        }

        // YouTube 열기
        function openYouTube() {
            const searchQuery = encodeURIComponent(currentSentence.videoSearch);
            window.open(`https://www.youtube.com/results?search_query=${searchQuery}`, '_blank');
        }

        // 페이지 로드 시 초기화
        window.onload = function() {
            currentSentence = getRandomSentence(currentLevel);
            updateContent();
        };
    </script>
</body>
</html>